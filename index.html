<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Awning Placement Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <script src="config.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Awning Placement Visualization</h1>
            <p>Visualize how your new awning will look on your home</p>
        </header>
        
        <main class="main-content">
            <!-- Configuration section -->
            <div class="config-section">
                    <h2>Configure your awning</h2>
                    
                    <!-- Product Type Selection -->
                    <div class="form-group">
                        <label for="product-type">Choose your product type:</label>
                        <select id="product-type" name="product-type">
                            <option value="">Select a product type</option>
                            <option value="knikarm">Retractable Awning</option>
                            <option value="markiezen">Dutch Canopy</option>
                        </select>
                    </div>
                    
                    <!-- Model Selection (for applicable types) -->
                    <div class="form-group" id="model-selection" style="display: none;">
                        <label>Choose your model:</label>
                        <div class="model-options" id="model-options">
                            <!-- Modellen worden hier dynamisch toegevoegd -->
                        </div>
                    </div>
                    
                    <!-- Color Selection -->
                    <div class="form-group" id="color-selection">
                        <label>Choose your fabric color:</label>
                        <div class="color-options" id="color-options">
                            <!-- Colors are added dynamically here -->
                        </div>
                    </div>
                    
                    <!-- Image Upload and Draw Line -->
                    <div class="form-group" id="image-upload" style="display: none;">
                        <label for="house-image">Upload a photo of your home and draw the placement line:</label>
                        <div class="upload-area">
                            <input type="file" id="house-image" name="house-image" accept="image/*">
                            <div class="upload-placeholder">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r="1.5"/>
                                    <polyline points="21,15 16,10 5,21"/>
                                </svg>
                                <p>Click here to upload an image or drag a file here</p>
                                <p class="file-info">Supported formats: JPG, PNG, GIF (max 10MB)</p>
                            </div>
                            <div class="image-preview" id="image-preview" style="display: none;">
                                 <img id="preview-image" src="" alt="Preview">
                                  <button type="button" id="remove-image">Remove</button>
                              </div>
                        </div>
                        <p class="drawing-instructions">Click and drag on the image to draw where the awning should be placed.</p>
                    </div>
                    
                    <!-- Placement Instructions -->
                    <div class="form-group" id="placement-area" style="display: none;">
                        <div class="placement-container">
                            <div class="image-preview-container">
                                <div style="position: relative;">
                                    <img id="placement-image-preview" src="" alt="Home preview" style="display: block; max-width: 100%;">
                                    <canvas id="drawing-canvas" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></canvas>
                                </div>
                                <button type="button" id="clear-line">Clear line</button>
                            </div>
                        </div>
                    </div>
                    


                    <!-- Price Estimate section -->
                    <div class="price-indication-section">
                        <div class="checkbox-group">
                            <input type="checkbox" id="price-indication" name="price-indication">
                            <label for="price-indication">Request price estimate</label>
                        </div>
                        
                        <div class="price-indication-fields" id="price-indication-fields" style="display: none;">
                            <div class="form-group">
                                <label for="width">Width (cm):</label>
                                <input type="number" id="width" name="width" min="100" max="500" placeholder="e.g. 300">
                            </div>
                            <div class="form-group">
                                <label for="projection">Projection (cm):</label>
                                <input type="number" id="projection" name="projection" min="50" max="300" placeholder="e.g. 200">
                            </div>
                            <div class="form-group">
                                <label for="verdieping">Floor:</label>
                                <select id="verdieping" name="verdieping">
                                    <option value="">Select floor</option>
                                    <option value="begane-grond">Ground floor</option>
                                    <option value="eerste-verdieping">First floor</option>
                                    <option value="tweede-verdieping">Second floor</option>
                                    <option value="derde-verdieping">Third floor</option>
                                    <option value="hoger">Above 3rd floor</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label for="email">Email address:</label>
                                <input type="email" id="email" name="email" placeholder="your.email@example.com">
                            </div>
                            <div class="form-group full-width">
                                <label for="phone">Phone (optional):</label>
                                <input type="tel" id="phone" name="phone" placeholder="555-123-4567">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Generate Button -->
                    <div class="form-group">
                        <button type="button" id="generate-visualization" class="generate-btn" disabled>
                            Generate Visualization
                        </button>
                    </div>
                    
                    <!-- Visualization section -->
                    <div class="result-section">
                    <div class="visualization-area">
                        <div class="placeholder-content">
                            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/>
                                <circle cx="12" cy="13" r="3"/>
                            </svg>
                            <p>Configure your awning and upload a photo to generate the visualization</p>
                        </div>
                        <div class="result-image" style="display: none;">
                            <img id="result-visualization" src="" alt="Awning visualization">
                            <div class="result-actions">
                                <button type="button" id="download-result">Download Image</button>
                                <button type="button" id="new-visualization">New Visualization</button>
                            </div>
                        </div>
                        <div class="loading-state" style="display: none;">
                            <div class="spinner"></div>
                            <p>Generating your visualization...</p>
                        </div>
                    </div>
                </div>
        </main>
    </div>

    <!-- Image Modal removed - results are only delivered via email -->
    
    <script src="script.js"></script>
</body>
</html>